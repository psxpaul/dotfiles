#!/bin/bash

if [ "$#" -eq 0 ]; then
    data=$(cat)
    echo $data | egrep -q "^<"

    if [ $? -eq 0 ]; then
        echo $data | xmllint --format - | grep -v "^<?xml version=\".*\"?>"
    else
        echo $data | python3 -mjson.tool
    fi
else
    for f in $@; do
        cat $f | pretty > /tmp/pretty_file &&
        rm $f &&
        cp /tmp/pretty_file $f
    done
fi
